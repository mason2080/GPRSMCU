
/*****************************************************************************/                                                                                                                                  
/* FILE NAME : WdgIf.c                                                       */                                             
/*---------------------------------------------------------------------------*/                                                        
/* AUTHOR : PHQ                                                              */                                               
/*---------------------------------------------------------------------------*/                                              
/* TIME : 15/10                                                              */                                                                    
/*---------------------------------------------------------------------------*/                                             
/* DESCRIPTION :                                                             */                                                      
/*                                                                           */                                                        
/*                                                                           */
/*---------------------------------------------------------------------------*/
/* HISTORY :                                                                 */
/*                                                                           */
/*    Author    |    Time    |    Version    |    description                */
/* -------------|------------|---------------|------------------------------ */
/*    PHQ       |    15/10   |    1.0        |    build the module           */
/*****************************************************************************/


#include "wdi.h"
#include "SchIf.h"
#include "WdgIf.h"

byte Wdgm_TmCnt = 0;

void Wdgm_Init(void)
{
    Wdgm_TmCnt = 0;
} 


void Wdgm_CountCbk(void)
{
    (Wdgm_TmCnt < 255) ? (Wdgm_TmCnt++) : (Wdgm_TmCnt= 255);
}

void Wdgm_MainTrig(void)
{
    if(Wdgm_TmCnt > TM_MS(50))
    {
        Wdgm_TmCnt = 0;
       
        WdgIf_Trig();

    }
}

void WdgIf_Trig(void)
{
     wdi_NegVal();  
}

